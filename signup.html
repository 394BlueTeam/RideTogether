<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML Basic 1.1//EN" "http://www.w3.org/TR/xhtml-basic/xhtml-basic11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
        <meta name="mobile-web-app-capable" content="yes">
        
        <!-- For Apple iOS -->
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

        <title>RideTogether</title>

        <link href="CSS/reset.css" rel="stylesheet" />
        <link href="CSS/mobile.css" rel="stylesheet" media="handheld,only screen and (max-device-width:480px)" />
        <link href="CSS/core.css" rel="stylesheet" media="screen" />
      <link href='http://fonts.googleapis.com/css?family=Just+Me+Again+Down+Here|Open+Sans' rel='stylesheet' type='text/css' />
        <link rel="stylesheet" href="Plugins/FontAwesome/css/font-awesome.min.css" />
      <script src="http://code.jquery.com/jquery-1.10.1.min.js"></script>
      <script type="text/javascript" src="http://www.parsecdn.com/js/parse-1.2.18.min.js"></script>
      <script type="text/javascript" src="JS/parse.js"></script>
    </head>

<script type="text/javascript">
  Parse.initialize("b0jfwJsQkNWPdoKnDgd8KJLufCLWNJpmc5vBTkqr", "X90Jzs3gzKceNOdkFmCle8ZiwsE0HGhyNF4N3Wcj");
    var Ride = Parse.Object.extend("Users");    
    
    function enroll(){
      var email = $("input[name=Email]").val();

      if (email == ""){
        alert('error: please enter an email')
      }
      else{
        var name = $("input[name=Name]").val();
        var cartype = $("input[name=CarType]").val();
        var homeaddress = $("input[name=HomeAddress]").val();

        var user = new Ride();

        user.save({Email: email, Name: name, CarType: cartype, HomeAddress: homeaddress, DriverRating: 0}, {
          success: function(rideposter){
            console.log("save succeeded");
            alert('Thank you! the ride information is posted');
          },
          error: function(rideposter, error){
            console.log("save failed with error: ", error);
          }
        });
      }
    }

  </script>

<body>
  
  <div id="signup" class="container">
    <div id="title">
      <h1>Make a profile</h1>
      <p>Enter your information below to make a user profile. </p>  
    </div>
  
  <form class="form" name="signup">
    <p>Email (required) <input type="text" name = "Email" ></p>
    <p>Name <input type="text" name = "Name" ></p>
    <p>Car Type <input type="text" name = "CarType" ></p>
    <p>Home Address <input type="text" name = "HomeAddress" ></p>
    <div id="buttons">
              <div class="a-btn"  onclick="enroll()"><span class="btn-text">Make my profile</span> </div> 
    </div>

  </form>
</div>
</body>

</html>
