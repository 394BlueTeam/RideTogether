<!doctype html>
<head>
  <meta charset="utf-8">
  <title>My Parse App</title>
  <meta name="description" content="My Parse App">
  <meta name="viewport" content="width=device-width">
  <link rel="stylesheet" href="css/reset.css">
  <link rel="stylesheet" href="css/styles.css">
  <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
  <script type="text/javascript" src="http://www.parsecdn.com/js/parse-1.2.18.min.js"></script>
  <script type="text/javascript">
  Parse.initialize("b0jfwJsQkNWPdoKnDgd8KJLufCLWNJpmc5vBTkqr", "X90Jzs3gzKceNOdkFmCle8ZiwsE0HGhyNF4N3Wcj");
    var Ride = Parse.Object.extend("Ride");
    
    function enroll(frm){
      if (frm.txtName.value == "")
        alert("please enter your name.");
      else if (frm.txtOpenSeats.value == "")
        alert("please enter the avaiable seats.");
      else {
        console.log(frm.txtTravelTime);
        var rideposter = new Ride();
        rideposter.save({ Name : frm.txtName.value, OpenSeats : Number(frm.txtOpenSeats.value), TravelTime :
        frm.txtTravelTime.value, Email : frm.txtEmail.value, StartAddress : frm.txtStartAddress.value,
        EndAddress:frm.txtEndAddress.value, Destination:frm.txtDestination.value}, {
          
          success: function(rideposter){
            console.log("save succeeded");
            alert('Thank you! the ride information is posted');
          },
          error: function(rideposter, error){
            console.log("save failed with error: ", error);
          }
        });
      }
    }

  </script>
</head>

<body>
  
  <div id="main">
    <h1>sharing if always great!</h1>
    <p>Please enter your information to signup:</p>
  </div>
  
  <FORM NAME="test">
    <p>Name  :      <input type="text" name = "txtName" ><BR>
    <p>OpenSeats:   <input type="number" name = "txtOpenSeats" ><BR>
    <p>StartAddress:   <input type="text" name = "txtStartAddress" ><BR>
    <p>EndAddress:   <input type="text" name = "txtEndAddress" ><BR>
    <p>TravelTime:  <input type="text" name = "txtTravelTime" ><BR>
    <p>Email:       <input type="text" name = "txtEmail" ><BR>
    <p>Destination:       <input type="text" name = "txtDestination" ><BR>
    <p>Date of leaving: <input type="date" name="date"><br>
    <p/>
    <INPUT TYPE="Button" Value="Sign up" onClick="enroll(this.form)"><BR>
  </FORM>

    

</body>

</html>
